"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Ok = exports.Err = void 0;
function cov_jffgpjvse() {
  var path = "/mnt/g/stellar-sdk/src/contract/rust_result.ts";
  var hash = "877d3ad0c1a62802185ca043a6f88ca50244099f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/mnt/g/stellar-sdk/src/contract/rust_result.ts",
    statementMap: {
      "0": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 68,
          column: 32
        }
      },
      "1": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 22
        }
      },
      "2": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 76,
          column: 16
        }
      },
      "3": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 80,
          column: 17
        }
      },
      "4": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 95,
          column: 22
        }
      },
      "5": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 40
        }
      },
      "6": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 103,
          column: 17
        }
      },
      "7": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 107,
          column: 16
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 65,
            column: 2
          },
          end: {
            line: 65,
            column: 3
          }
        },
        loc: {
          start: {
            line: 65,
            column: 33
          },
          end: {
            line: 65,
            column: 35
          }
        },
        line: 65
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 67,
            column: 2
          },
          end: {
            line: 67,
            column: 3
          }
        },
        loc: {
          start: {
            line: 67,
            column: 21
          },
          end: {
            line: 69,
            column: 3
          }
        },
        line: 67
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 71,
            column: 2
          },
          end: {
            line: 71,
            column: 3
          }
        },
        loc: {
          start: {
            line: 71,
            column: 11
          },
          end: {
            line: 73,
            column: 3
          }
        },
        line: 71
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 75,
            column: 2
          },
          end: {
            line: 75,
            column: 3
          }
        },
        loc: {
          start: {
            line: 75,
            column: 9
          },
          end: {
            line: 77,
            column: 3
          }
        },
        line: 75
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 79,
            column: 2
          },
          end: {
            line: 79,
            column: 3
          }
        },
        loc: {
          start: {
            line: 79,
            column: 10
          },
          end: {
            line: 81,
            column: 3
          }
        },
        line: 79
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 92,
            column: 2
          },
          end: {
            line: 92,
            column: 3
          }
        },
        loc: {
          start: {
            line: 92,
            column: 33
          },
          end: {
            line: 92,
            column: 35
          }
        },
        line: 92
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 94,
            column: 2
          },
          end: {
            line: 94,
            column: 3
          }
        },
        loc: {
          start: {
            line: 94,
            column: 14
          },
          end: {
            line: 96,
            column: 3
          }
        },
        line: 94
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 98,
            column: 2
          },
          end: {
            line: 98,
            column: 3
          }
        },
        loc: {
          start: {
            line: 98,
            column: 18
          },
          end: {
            line: 100,
            column: 3
          }
        },
        line: 98
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 102,
            column: 2
          },
          end: {
            line: 102,
            column: 3
          }
        },
        loc: {
          start: {
            line: 102,
            column: 9
          },
          end: {
            line: 104,
            column: 3
          }
        },
        line: 102
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 106,
            column: 2
          },
          end: {
            line: 106,
            column: 3
          }
        },
        loc: {
          start: {
            line: 106,
            column: 10
          },
          end: {
            line: 108,
            column: 3
          }
        },
        line: 106
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "877d3ad0c1a62802185ca043a6f88ca50244099f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_jffgpjvse = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_jffgpjvse();
/* disable max-classes rule, because extending error shouldn't count! */
/* eslint max-classes-per-file: 0 */

/**
 * A minimal implementation of Rust's `Result` type. Used for contract
 * methods that return Results, to maintain their distinction from methods
 * that simply either return a value or throw.
 *
 * #### Why is this needed?
 *
 * This is used by {@link module:contract.Spec | `ContractSpec`} and
 * {@link module:contract.AssembledTransaction | `AssembledTransaction`} when
 * parsing values return by contracts.
 *
 * Contract methods can be implemented to return simple values, in which case
 * they can also throw errors. This matches JavaScript's most idiomatic
 * workflow, using `try...catch` blocks.
 *
 * But Rust also gives the flexibility of returning `Result` types. And Soroban
 * contracts further support this with the `#[contracterror]` macro. Should
 * JavaScript calls to such methods ignore all of that, and just flatten this
 * extra info down to the same `try...catch` flow as other methods? We're not
 * sure.
 *
 * For now, we've added this minimal implementation of Rust's `Result` logic,
 * which exports the `Result` interface and its associated implementations,
 * `Ok` and `Err`. This allows `ContractSpec` and `AssembledTransaction` to
 * work together to duplicate the contract's Rust logic, always returning
 * `Result` types for contract methods that are implemented to do so.
 *
 * In the future, if this feels too un-idiomatic for JavaScript, we can always
 * remove this and flatten all JS calls to `try...catch`. Easier to remove this
 * logic later than it would be to add it.
 *
 * @memberof module:contract
 */

/**
 * Error interface containing the error message. Matches Rust's implementation.
 * Part of implementing {@link module:contract.Result | Result}, a minimal
 * implementation of Rust's `Result` type. Used for contract methods that return
 * Results, to maintain their distinction from methods that simply either return
 * a value or throw.
 *
 * @memberof module:contract
 */

/**
 * Part of implementing {@link module:contract.Result | Result}, a minimal
 * implementation of Rust's `Result` type. Used for contract methods that return
 * Results, to maintain their distinction from methods that simply either return
 * a value or throw.
 * @private
 */
class Ok {
  constructor(value) {
    this.value = value;
    cov_jffgpjvse().f[0]++;
  }
  unwrapErr() {
    cov_jffgpjvse().f[1]++;
    cov_jffgpjvse().s[0]++;
    throw new Error("No error");
  }
  unwrap() {
    cov_jffgpjvse().f[2]++;
    cov_jffgpjvse().s[1]++;
    return this.value;
  }
  isOk() {
    cov_jffgpjvse().f[3]++;
    cov_jffgpjvse().s[2]++;
    return true;
  }
  isErr() {
    cov_jffgpjvse().f[4]++;
    cov_jffgpjvse().s[3]++;
    return false;
  }
}

/**
 * Part of implementing {@link module:contract.Result | Result}, a minimal
 * implementation of Rust's `Result` type. Used for contract methods that return
 * Results, to maintain their distinction from methods that simply either return
 * a value or throw.
 * @private
 */
exports.Ok = Ok;
class Err {
  constructor(error) {
    this.error = error;
    cov_jffgpjvse().f[5]++;
  }
  unwrapErr() {
    cov_jffgpjvse().f[6]++;
    cov_jffgpjvse().s[4]++;
    return this.error;
  }
  unwrap() {
    cov_jffgpjvse().f[7]++;
    cov_jffgpjvse().s[5]++;
    throw new Error(this.error.message);
  }
  isOk() {
    cov_jffgpjvse().f[8]++;
    cov_jffgpjvse().s[6]++;
    return false;
  }
  isErr() {
    cov_jffgpjvse().f[9]++;
    cov_jffgpjvse().s[7]++;
    return true;
  }
}
exports.Err = Err;